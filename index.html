<!DOCTYPE html>
<html class="light" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>X Tech Intel | Dashboard</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { extend: {
        colors: { primary: '#1978e5', accent: '#ec5b13', 'background-light': '#f6f7f8', 'background-dark': '#111821' },
        fontFamily: { display: ['Inter', 'sans-serif'] },
        borderRadius: { DEFAULT: '0.25rem', lg: '0.5rem', xl: '0.75rem', full: '9999px' },
      }},
    };
  </script>
  <style>
    .material-symbols-outlined { font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24; }
    .active-nav { background-color:rgba(236,91,19,.1); border-left:4px solid #ec5b13; color:#ec5b13; }
    .progress-bar { transition:width 1s cubic-bezier(.4,0,.2,1); width:0; }
    @keyframes spin { to { transform:rotate(360deg); } }
    .animate-spin { animation:spin .8s linear infinite; }
  </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 antialiased">

<!-- ── Offline Banner ──────────────────────────────────────────────────────── -->
<div id="backend-banner" class="hidden bg-amber-50 dark:bg-amber-900/20 border-b border-amber-200 dark:border-amber-800 px-6 py-2.5 text-center text-xs font-bold text-amber-700 dark:text-amber-400">
  ⚡ Demo Mode — Backend offline. Run <code class="bg-amber-100 dark:bg-amber-800 px-1 rounded">start.bat</code> to enable live X data.
</div>

<div class="flex min-h-screen">

  <!-- ── Sidebar ── -->
  <aside class="w-64 border-r border-slate-200 dark:border-slate-800 bg-white dark:bg-background-dark flex flex-col fixed h-full z-40">
    <div class="p-6 flex items-center gap-3">
      <div class="bg-primary rounded-lg p-2 flex items-center justify-center shadow-lg shadow-primary/20">
        <span class="material-symbols-outlined text-white">monitoring</span>
      </div>
      <div>
        <h1 class="text-sm font-bold uppercase tracking-wider text-slate-800 dark:text-slate-100">X Tech Intel</h1>
        <p class="text-[10px] text-slate-500 dark:text-slate-400 font-medium" data-i18n="brand.subtitle">INFLUENCER ENGINE</p>
      </div>
    </div>
    <nav class="flex-1 px-4 mt-4 space-y-1">
      <a href="index.html" class="flex items-center gap-3 px-3 py-3 rounded-lg active-nav font-semibold text-sm">
        <span class="material-symbols-outlined">dashboard</span><span data-i18n="nav.dashboard">Dashboard</span>
      </a>
      <a href="#" class="flex items-center gap-3 px-3 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-accent/10 hover:text-accent transition-colors text-sm font-medium">
        <span class="material-symbols-outlined">description</span><span data-i18n="nav.reports">Reports</span>
      </a>
      <a href="influencers.html" class="flex items-center gap-3 px-3 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-accent/10 hover:text-accent transition-colors text-sm font-medium">
        <span class="material-symbols-outlined">group</span><span data-i18n="nav.influencers">Influencers</span>
      </a>
      <a href="settings.html" class="flex items-center gap-3 px-3 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-accent/10 hover:text-accent transition-colors text-sm font-medium">
        <span class="material-symbols-outlined">settings</span><span data-i18n="nav.settings">Settings</span>
      </a>
    </nav>
    <div class="px-4 pb-2">
      <button data-toggle-theme class="w-full flex items-center gap-3 px-3 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-sm font-medium">
        <span class="material-symbols-outlined" data-theme-icon>dark_mode</span>
        <span class="dark:hidden" data-i18n="nav.dark">Dark Mode</span><span class="hidden dark:inline" data-i18n="nav.light">Light Mode</span>
      </button>
      <button data-lang-toggle onclick="toggleLang()"
        class="w-full flex items-center gap-3 px-3 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-sm font-medium">
        <span class="material-symbols-outlined">translate</span>中文
      </button>
    </div>
    <div class="p-4 border-t border-slate-200 dark:border-slate-800">
      <div class="flex items-center gap-3 p-2 rounded-lg bg-slate-100 dark:bg-slate-800/50">
        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold text-sm flex-shrink-0">AC</div>
        <div class="overflow-hidden">
          <p class="text-xs font-bold truncate">Alex Chen</p>
          <p class="text-[10px] text-slate-500">Senior Analyst · Pro</p>
        </div>
      </div>
    </div>
  </aside>

  <!-- ── Main Content ── -->
  <main class="ml-64 flex-1 p-8 min-h-screen">

    <!-- Header -->
    <div class="flex justify-between items-center mb-8 flex-wrap gap-4">
      <div>
        <h2 class="text-3xl font-black text-slate-900 dark:text-white tracking-tight" data-i18n="dash.title">Today's Intelligence Summary</h2>
        <p id="dashboard-subtitle" class="text-slate-500 dark:text-slate-400 mt-1" data-i18n="dash.subtitle">
          Real-time X signal monitoring · 100 top tech influencers
        </p>
      </div>
      <div class="flex flex-col gap-2 items-end">
        <div class="flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700">
          <div class="flex items-center gap-2">
            <span class="relative flex h-3 w-3">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
              <span id="status-dot" class="relative inline-flex rounded-full h-3 w-3 bg-slate-400"></span>
            </span>
            <span id="status-label" class="text-sm font-semibold text-slate-700 dark:text-slate-200">Status: Checking…</span>
          </div>
          <button id="generate-btn" disabled
            class="bg-primary hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed text-white px-5 py-2
                   rounded-lg font-bold text-sm shadow-lg shadow-primary/20 transition-all flex items-center gap-2">
            <span class="material-symbols-outlined text-sm">auto_awesome</span><span data-i18n="dash.generate">Generate Daily Report</span>
          </button>
        </div>
        <!-- Job Progress Bar -->
        <div id="job-progress" class="hidden w-full bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-3 shadow-sm">
          <div class="h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
            <div id="job-progress-bar" class="h-full bg-primary rounded-full transition-all duration-700" style="width:0%"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group hover:shadow-md transition-shadow">
        <div class="flex justify-between items-start mb-4">
          <p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider" data-i18n="stat.monitored">Influencers Monitored</p>
          <span class="material-symbols-outlined text-primary group-hover:scale-110 transition-transform">group</span>
        </div>
        <p id="stat-influencers" class="text-4xl font-black text-slate-900 dark:text-white" data-counter="100">0</p>
        <div class="mt-4 flex items-center gap-2">
          <span class="text-green-500 text-xs font-bold flex items-center gap-0.5">+12% <span class="material-symbols-outlined text-xs">trending_up</span></span>
          <span class="text-slate-400 text-xs" data-i18n="stat.vs_week">vs last week</span>
        </div>
        <div class="absolute -right-4 -bottom-4 w-20 h-20 rounded-full bg-primary/5 group-hover:bg-primary/10 transition-colors"></div>
      </div>
      <div class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group hover:shadow-md transition-shadow">
        <div class="flex justify-between items-start mb-4">
          <p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider" data-i18n="stat.posts">Posts Analyzed Today</p>
          <span class="material-symbols-outlined text-primary group-hover:scale-110 transition-transform">analytics</span>
        </div>
        <p id="stat-posts" class="text-4xl font-black text-slate-900 dark:text-white" data-counter="0">—</p>
        <div class="mt-4 flex items-center gap-2">
          <span class="text-green-500 text-xs font-bold flex items-center gap-0.5"><span data-i18n="stat.live">Live</span> <span class="material-symbols-outlined text-xs">bolt</span></span>
          <span class="text-slate-400 text-xs" data-i18n="stat.last24">last 24 hours</span>
        </div>
        <div class="absolute -right-4 -bottom-4 w-20 h-20 rounded-full bg-primary/5 group-hover:bg-primary/10 transition-colors"></div>
      </div>
      <div class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group hover:shadow-md transition-shadow">
        <div class="flex justify-between items-start mb-4">
          <p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider" data-i18n="stat.signals">Emerging Signals</p>
          <span class="material-symbols-outlined text-primary group-hover:scale-110 transition-transform">hub</span>
        </div>
        <p id="stat-trends" class="text-4xl font-black text-slate-900 dark:text-white" data-counter="7">0</p>
        <div class="mt-4 flex items-center gap-2">
          <span class="text-primary text-xs font-bold">New Today</span>
          <div class="flex -space-x-1.5 ml-1">
            <div class="w-5 h-5 rounded-full bg-primary/20 border-2 border-white dark:border-slate-800"></div>
            <div class="w-5 h-5 rounded-full bg-primary/40 border-2 border-white dark:border-slate-800"></div>
            <div class="w-5 h-5 rounded-full bg-primary/70 border-2 border-white dark:border-slate-800"></div>
          </div>
        </div>
        <div class="absolute -right-4 -bottom-4 w-20 h-20 rounded-full bg-primary/5 group-hover:bg-primary/10 transition-colors"></div>
      </div>
    </div>

    <!-- Bottom Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Trending Topics -->
      <div class="lg:col-span-1">
        <div class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm h-full">
          <div class="flex justify-between items-center mb-6">
            <h3 class="font-bold text-slate-900 dark:text-white flex items-center gap-2">
              <span class="material-symbols-outlined text-primary">dynamic_feed</span><span data-i18n="trending.title">Trending Topics</span>
            </h3>
            <span class="text-[10px] font-black text-primary uppercase tracking-widest px-2 py-0.5 bg-primary/10 rounded-full animate-pulse">Live</span>
          </div>
          <!-- Dynamically populated by app.js -->
          <div id="trending-topics" class="flex flex-wrap gap-2">
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#AIAgents <span class="text-[10px] text-green-500 font-black">+67%</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#DeepSeek <span class="text-[10px] text-green-500 font-black">+89%</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#Blackwell <span class="text-[10px] text-green-500 font-black">+45%</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#Gemini2 <span class="text-[10px] text-primary font-black">NEW</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#OpenSourceAI <span class="text-[10px] text-green-500 font-black">+38%</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#GPT5 <span class="text-[10px] text-slate-400 font-black">-8%</span></button>
            <button data-trend class="px-3 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-bold border border-slate-200 dark:border-slate-600 hover:border-primary transition-all cursor-pointer flex items-center gap-1.5">#AIRobotics <span class="text-[10px] text-green-500 font-black">+71%</span></button>
          </div>
          <div class="mt-8">
            <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">Velocity Insights</p>
            <div id="velocity-bars" class="space-y-4">
              <div>
                <div class="flex justify-between mb-1.5"><span class="text-xs font-bold text-primary uppercase">#AIAgents</span><span class="text-xs font-bold text-primary">89%</span></div>
                <div class="h-2 rounded-full bg-primary/10 overflow-hidden"><div class="progress-bar h-full rounded-full bg-primary" data-progress="89"></div></div>
              </div>
              <div>
                <div class="flex justify-between mb-1.5"><span class="text-xs font-bold text-primary uppercase">#DeepSeek</span><span class="text-xs font-bold text-primary">94%</span></div>
                <div class="h-2 rounded-full bg-primary/10 overflow-hidden"><div class="progress-bar h-full rounded-full bg-primary" data-progress="94"></div></div>
              </div>
              <div>
                <div class="flex justify-between mb-1.5"><span class="text-xs font-bold text-primary uppercase">#AIRobotics</span><span class="text-xs font-bold text-primary">65%</span></div>
                <div class="h-2 rounded-full bg-primary/10 overflow-hidden"><div class="progress-bar h-full rounded-full bg-primary" data-progress="65"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Reports Table -->
      <div class="lg:col-span-2">
        <div class="bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden h-full flex flex-col">
          <div class="p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center">
            <h3 class="font-bold text-slate-900 dark:text-white flex items-center gap-2">
              <span class="material-symbols-outlined text-primary">history</span><span data-i18n="reports.title">Recent Reports</span>
            </h3>
            <button class="text-sm font-bold text-primary hover:underline" data-i18n="reports.view_all">View All</button>
          </div>
          <div class="overflow-x-auto flex-1">
            <table class="w-full text-left border-collapse">
              <thead>
                <tr class="bg-slate-50 dark:bg-slate-800/60">
                  <th class="px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider" data-i18n="reports.col.name">Report Name</th>
                  <th class="px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider" data-i18n="reports.col.date">Date</th>
                  <th class="px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center" data-i18n="reports.col.score">Score</th>
                  <th class="px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right" data-i18n="reports.col.actions">Actions</th>
                </tr>
              </thead>
              <tbody id="reports-tbody" class="divide-y divide-slate-100 dark:divide-slate-700">
                <!-- Populated by app.js; static placeholder rows below -->
                <tr class="hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors">
                  <td class="px-6 py-5"><div class="flex items-center gap-3"><span class="material-symbols-outlined text-slate-400">picture_as_pdf</span><div><p class="text-sm font-bold text-slate-900 dark:text-white">Waiting for first report…</p><p class="text-[10px] text-slate-500">Click "Generate Daily Report" to fetch live data</p></div></div></td>
                  <td class="px-6 py-5 text-sm text-slate-400">—</td>
                  <td class="px-6 py-5"><div class="flex justify-center"><span class="px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-400 text-[10px] font-black rounded border border-slate-200 dark:border-slate-600">PENDING</span></div></td>
                  <td class="px-6 py-5"></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="p-4 bg-slate-50 dark:bg-slate-800/80 border-t border-slate-200 dark:border-slate-700">
            <button class="w-full text-center text-xs font-bold text-slate-500 dark:text-slate-400 py-1 hover:text-primary transition-colors tracking-widest uppercase" data-i18n="reports.load_older">Load Older Archives</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="mt-12 flex flex-wrap justify-between items-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest border-t border-slate-200 dark:border-slate-800 pt-6">
      <div class="flex flex-wrap gap-6">
        <span>Engine v5.1.0</span>
        <span id="footer-latency">API: checking…</span>
        <span>X Influencers: 100</span>
      </div>
      <div>© 2025 X Influencer Tech Intelligence</div>
    </div>
  </main>
</div>

<script src="js/lang.js"></script>
<script src="js/app.js"></script>
</body>
</html>
